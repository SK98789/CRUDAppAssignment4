<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Goals</title>
</head>
<div style="padding: 10px; display: flex; flex-direction: column; justify-content: center; gap:20px;">
    <a data-th-href="@{/goals/all}" type="button" class="btn btn-primary" style="max-width:200px;">
        Back To Goals
    </a>
    <div class="card" style="width: 72rem;">
        <div class="card-body">
            <div style="padding: 10px; display: flex; align-items: center; flex-direction: row; gap:20px;">
                <H1 class="card-title" data-th-text="${goal.title}"></H1>
                <span class="badge rounded-pill text-bg-info" data-th-text="${goal.status}"></span>
                <a data-th-href="@{/goals/edit/{id} (id=${goal.goalId})}" type="button" class="btn btn-primary" style="position:absolute; top: 20px; right: 100px;">
                    Edit
                </a>
                <a data-th-href="@{/goals/delete/{id} (id=${goal.goalId})}" type="button" class="btn btn-primary" style="position:absolute; top: 20px; right: 20px;">
                    Delete
                </a>
            </div>
            <h2 class="card-subtitle mb-2 text-body-secondary" data-th-text="${goal.targetDate}"></h2>
            <p class="card-text" data-th-text="${goal.details}"></p>
            <div class="card-body">
                <div style="padding: 10px; display: flex; align-items: center; flex-direction: column; gap:20px;">
                    <div style="padding: 10px; display: flex; flex-direction: row; gap:20px;">
                        <H3 class="card-title">Tasks</H3>
                        <a data-th-href="@{/goals/{id}/newTask (id=${goal.goalId})}" type="button" class="btn btn-primary">
                            Add Task
                        </a>

                    </div>
                    <table class="table table-hover">
                        <thead>
                        <tr>
                            <th scope="col">Title</th>
                            <th scope="col">Status</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr data-th-each="task: ${taskList}">
                            <td>
                                <a data-th-href="@{/goals/taskDetails/{id} (id=${task.taskId})}" data-th-text="${task.title}"></a>
                            </td>
                            <td data-th-text="${task.status}"></td>
                        </tr>
                        </tbody>
                    </table>

                </div>

            </div>
        </div>
    </div>

</div>
<body>

</body>
</html>